<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="">
    <meta name="description" content="Organ Donation Platform using Blockchain">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,700;1,900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/homestyle.css">
    <link rel="stylesheet" href="./css/fontawesome-all.css">

    <link rel="icon" href="../public/images/organ-donation-logo-new.svg">

    <title>DonarPlus</title>
</head>
<body>
    <header>
        <div class="container">
            <div class="row">
                <nav>
                    <a href="homepage.html"><img id="logo" src="./images/mainlogo.png" alt="DonarPlus"></a>
                    <ul>
                        <li><a class="active" href="">Home</a></li>
                        <li><a href="awareness.html">Awareness</a></li>
                        <li><a href="about-us.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li id="auth-btn">
                            <a href="login.html" id="login-signup-btn" onclick="openAuthModal()">Login</a>
                        </li>
                    </ul>
                    <div id="menu-toggle">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                </nav>
            </div> <!-- end of row -->
        </div> <!-- end of container -->
    </header>

    <main>
        <div class="container">          
            <div class="row center-box">
                <div class="col-md-7 banner">
                    <h1 id="typing-effect">Commit to Becoming a Donor..!!!</h1>
                    <h3>Over 100,000 people are waiting for a life-saving transplant. You have the power to make a difference.</h3>
                    <!-- <button class="btn btn-lg btn-success">
                    onclick="checkDashboardAccess()"Go to Dashboard
                        <a href="index.html" id="login-signup-btn" onclick="checkDashboardAccess()">Go to Dashboard</a>
                    </button> -->
                    <button class="btn btn-lg btn-success" onclick="checkDashboardAccess()">Go to Dashboard</button>
                </div>
                <div class="col-md-4">
                    <div class="slider">
                        <img src="./images/MainHeaderimage.png" alt=""></div>
                </div>
            </div> <!-- end of row -->
        </div> <!-- end of container -->

        <div class="container-bg">
            <div class="container">
                <h1 id="heading">The Need</h1>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="content-box">
                            <img src="./images/time1.png" alt="">
                            <p>Every 9 minutes, another person is added to the transplant waiting list.</p>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="content-box">
                            <img src="./images/peple.png" alt="">
                            <p>Each day, 17 individuals lose their lives while waiting for an organ transplant.</p>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="content-box">
                            <img src="./images/hand.png" alt="">
                            <p>One organ, eye, and tissue donor can save and heal over 75 lives.</p>
                        </div>
                    </div>
                </div> <!-- end of row -->
            </div> <!-- end of container -->
        </div> <!-- end of container-bg -->

        <div class="container-bg-1">
            <div class="container">
                <h1 id="heading">FAQ's</h1>
                <div class="row center-box">
                    <div class="col-12">
                        <div class="accordion">
                            <div>
                                <input type="checkbox" name="example_accordion" id="section1" class="accordion_input">
                                <label for="section1" class="accordion_label">Where can I find more information about living organ donation?</label>
                                <div class="accordion_content">
                                    <p>Living organ donation provides an alternative for some transplant candidates, significantly reducing their waiting time and improving long-term outcomes for recipients. Additionally, living tissue donation, such as birth tissue, can aid in healing and treating burns and painful wounds.</p>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" name="example_accordion" id="section2" class="accordion_input">
                                <label for="section2" class="accordion_label">How does the deceased donation process work?</label>
                                <div class="accordion_content">
                                    <p>Are there any costs associated with becoming an organ, eye, or tissue donor?</p>
                                    <p>There are no costs to the donor’s family or estate for the donation process. The family is only responsible for medical expenses incurred prior to death and the costs related to funeral arrangements.</p>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" name="example_accordion" id="section3" class="accordion_input">
                                <label for="section3" class="accordion_label">Is there a cost to be an organ, eye and tissue donor?</label>
                                <div class="accordion_content">
                                    <p>Is there a cost to be an organ, eye and tissue donor?</p>
                                    <p>There is no cost to the donor’s family or estate for donation. The donor family pays only for medical expenses before death and costs associated with funeral arrangements.</p>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" name="example_accordion" id="section4" class="accordion_input">
                                <label for="section4" class="accordion_label">Does being registered as a donor affect my medical treatment?</label>
                                <div class="accordion_content">
                                    <p>Does being registered as a donor affect my medical treatment?</p>
                                    <p>Your medical care remains the top priority. Doctors will always strive to save every patient’s life. Donation only becomes an option after a patient has been declared clinically and legally dead following the complete and irreversible loss of brain function.</p>
                                </div>
                            </div>
                            <div>
                                <input type="checkbox" name="example_accordion" id="section5" class="accordion_input">
                                <label for="section5" class="accordion_label">Who is eligible to become a donor?</label>
                                <div class="accordion_content">
                                    <p>Who is eligible to become a donor?</p>
                                    <p>Individuals of all ages and medical histories can consider themselves potential donors. The specific organs and tissues that can be donated will depend on the individual’s medical condition at the time of death. A national system matches donors to recipients based on factors such as blood type, body size, illness severity, donor distance, tissue type, and waiting time. Factors such as sexual orientation, gender, gender identity, race, income, celebrity, and social status are never considered.</p>
                                </div>
                                
                            </div>
                        </div> <!-- end of accordion -->
                    </div> <!-- end of col -->
                </div> <!-- end of row -->
            </div> <!-- end of container -->
        </div> <!-- end of container-bg -->
    </main>

    <footer>
        <div class="container">
            <div class="row center-box">
                <div class="col-12">
                    <div class="footer-logo"><img src="./images/Logo1.png" alt="" height="50" width="100"></div>
                </div>    
        
                <div class="col-12">
                    <div id="copyright">
                        <p>Copyright © 2024 DonarPlus - All rights reserved</p>
                    </div>
                </div>
            </div> <!-- end of row -->
        </div> <!-- end of container -->        
    </footer>

    <script src="../public/js/main.js"></script>
    <script>
        async function checkDashboardAccess() {
            const email = localStorage.getItem("userEmail"); // User's email, if stored in localStorage
            const token = localStorage.getItem("authToken"); // User's authentication token
    
            if (!token) {
                window.location.href = "signup_signin.html";
                return;
            }
    
            try {
                const response = await fetch(`/api/userType?email=${email}`, {
                    headers: {
                        Authorization: `Bearer ${token}` // Send token in Authorization header
                    }
                });
                if (response.ok) {
                    const data = await response.json();
                    redirectToDashboard(data.userType);
                } else {
                    alert("User not found. Redirecting to login.");
                    window.location.href = "signup_signin.html";
                }
            } catch (error) {
                console.error("Error fetching user type:", error);
            }
        }
    
        function redirectToDashboard(userType) {
            if (userType === "hospital") {
                window.location.href = "hosp_dashboard.html";
            } else if (userType === "donor") {
                window.location.href = "donor_dashboard.html";
            } else if (userType === "patient") {
                window.location.href = "patient_dashboard.html";
            } else {
                alert("Invalid user type");
            }
        }
        const menuToggle = document.getElementById('menu-toggle');
        const nav = document.querySelector('nav');
        
        menuToggle.addEventListener('click', () => {
            nav.classList.toggle('active');
        });

        // Typing Effect Script
        const typingEffect = document.getElementById('typing-effect');
        const textArray = typingEffect.innerHTML.split(''); // Split text into array of characters
        typingEffect.innerHTML = ''; // Clear existing content

        let index = 0;
        function type() {
            if (index < textArray.length) {
                typingEffect.innerHTML += textArray[index++];
                setTimeout(type, 100); // Adjust typing speed here
            }
        }
        type();
    </script>
</body>
</html>
